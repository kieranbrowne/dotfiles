#!/usr/bin/env python
import pygame
import fileinput
import sys

pygame.init()

#functions
def getData(lines):
    data = []
    try:
        for line in lines:
            x,y,d = process(line)
            data.append((x,y,d))
    except:
        print "file does not contain the approriate data"
    return data

def process(line):
    x,y,d = 0,0,0
    try:
        coords = line.split(' ')
        x = float( coords[0] )
        y = float( coords[1] )
        d = int  ( coords[2] )
    except:
        print "Error"
    return x,y,d

def drawData(data):
    z = zip(*data)
    scale = max(max(z[0])-min(z[0]),max(z[1])-min(z[1]))
    minX = min(z[0])
    minY = min(z[1])
    del z

    line = []
    i = 0
    while i < len(data):
        while i < len(data) and data[i][2] != 0:
            line.append((
                remap(data[i][0],minX,minX+scale,0,screenSize[0]),
                remap(data[i][1],minY,minY+scale,0,screenSize[1])))
            i = i+1

        i = i+1

        if len(line) > 1:
            pygame.draw.lines(screen,black,False,line,1)
            del line[:]


def remap(x, inMin,inMax,outMin,outMax):
    #range check
    if inMin == inMax or outMin == outMax:
        print "Range error"
        return None
    result = ((x - inMin) / (inMax - inMin)) * (outMax - outMin) + outMin
    return result   


#colours
black = (0,0,0)
white = (255,255,255)

#setup screen
screenSize = (600,600)
screen = pygame.display.set_mode(screenSize)
screen.fill(white)

if len(sys.argv) > 1:
    #read data
    instructions = getData(fileinput.input())
    #draw data
    drawData(instructions);


#main loop
while(True):
    pygame.display.update()
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
             pygame.quit(); sys.exit();
